[{"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/index.js":"1","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/App.js":"2","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Login.js":"3","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/NotFound.js":"4","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Search.js":"5","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Layout.js":"6","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Results.js":"7","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Favorites.js":"8","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/CurrencySelector.js":"9","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Table.js":"10","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Navbar.js":"11","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Map.js":"12","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/api/mockapi.js":"13"},{"size":254,"mtime":1689168846381,"results":"14","hashOfConfig":"15"},{"size":2470,"mtime":1689491095183,"results":"16","hashOfConfig":"15"},{"size":1154,"mtime":1689484773916,"results":"17","hashOfConfig":"15"},{"size":164,"mtime":1689484773917,"results":"18","hashOfConfig":"15"},{"size":2670,"mtime":1689484773917,"results":"19","hashOfConfig":"15"},{"size":517,"mtime":1689484773916,"results":"20","hashOfConfig":"15"},{"size":3990,"mtime":1689594930095,"results":"21","hashOfConfig":"15"},{"size":2184,"mtime":1689484773916,"results":"22","hashOfConfig":"15"},{"size":368,"mtime":1689484773916,"results":"23","hashOfConfig":"15"},{"size":699,"mtime":1689484773917,"results":"24","hashOfConfig":"15"},{"size":964,"mtime":1689484773916,"results":"25","hashOfConfig":"15"},{"size":1185,"mtime":1689601588672,"results":"26","hashOfConfig":"15"},{"size":170,"mtime":1689483155785,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"13sfe40",{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"31"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/index.js",[],[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/App.js",[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Login.js",[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/NotFound.js",[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Search.js",[],["69"],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Layout.js",[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Results.js",["70"],["71"],"import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport mockAPI from \"../api/mockapi\";\nimport Table from \"./Table\";\nimport Map from \"./Map\";\nimport styles from \"./Results.module.css\";\nimport axios from \"axios\";\n\nconst iso3166 = require(\"iso-3166-1\");\n\nfunction Results({ currency, updateFavs }) {\n  const [holidayData, setHolidayData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [buttonText, setButtonText] = useState(\"Add to Favorites\");\n  const navigate = useNavigate();\n  const [showMap, setshowMap] = useState(true);\n\n  const [searchParams] = useSearchParams();\n  const [searchedCountry] = useState(searchParams.get(\"country\"));\n  const [searchedYear] = useState(searchParams.get(\"year\"));\n  const [startDate, setStartDate] = useState(`${searchedYear}-01-01`);\n  const [endDate, setEndDate] = useState(`${searchedYear}-12-31`);\n  const countryData = iso3166.whereAlpha2(searchedCountry);\n  const [position, setPosition] = useState({ lat: 0, lon: 0 });\n\n  const API_KEY = process.env.REACT_APP_API_KEY;\n\n  const filteredData = holidayData.filter(\n    (data) => data.date.iso > startDate && data.date.iso < endDate\n  );\n\n  \n\n  useEffect(() => {\n    const apiGet = async () => {\n      setIsLoading(true);\n      try {\n        const response1 = await mockAPI.get(\n          `/holidays?&api_key=${API_KEY}&country=${searchedCountry}&year=${searchedYear}`\n        );\n        setHolidayData(response1.data.response.holidays);\n        setIsLoading(false);\n        const response2 = await axios.get(`https://geocode.maps.co/search?country=${searchedCountry}`);\n        console.log(\"response2.data\",response2.data[0]);\n        // setPosition({lat: response2.data[0].lat, lon: response2.data[0].lon});\n        setPosition(response2.data[0]);\n        console.log(\"position\",position); \n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n    apiGet();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchedCountry, searchedYear]);\n\n  // useEffect(() => {\n  //   console.log(\"position1\", position1);\n  // }, [position1]);\n\n  const handleAdd = () => {\n    const newFav = {\n      id: uuidv4(),\n      country: countryData.country,\n      start: startDate,\n      end: endDate,\n      notes: \"\",\n    };\n    updateFavs(newFav);\n    setButtonText(\"Added!\");\n    setTimeout(() => {\n      setButtonText(\"Add to Favorites\");\n    }, 500);\n  };\n\n  const handleStart = (e) => {\n    setStartDate(e.target.value);\n  };\n\n  const handleEnd = (e) => {\n    setEndDate(e.target.value);\n  };\n\n  //const position = [1.3521, 103.8198];\n\n  return (\n    <div className={styles.results}>\n      <button className={styles.back} onClick={() => navigate(\"/search\")}>\n        {`Â« Back to Search`}\n      </button>\n      <p className={styles.title}>\n        {`Travel to ${countryData.country} in ${searchedYear}`}\n        <button className={styles.add} onClick={handleAdd}>\n          {buttonText}\n        </button>\n      </p>\n      <h1>{`${countryData.country} Holidays in ${searchedYear}`}</h1>\n      <label>From: </label>\n      <input\n        type=\"date\"\n        value={startDate}\n        min={`${searchedYear}-01-01`}\n        max={`${searchedYear}-12-30`}\n        onChange={handleStart}\n      />\n      <label> To: </label>\n      <input\n        type=\"date\"\n        value={endDate}\n        min={`${searchedYear}-01-02`}\n        max={`${searchedYear}-12-31`}\n        onChange={handleEnd}\n      />\n      <br />\n      {/*API FOR $ CONVERTER*/}\n      <h4>{`1 ${currency} = 1${searchedCountry}`}</h4>\n      {/*API FOR $ CONVERTER*/}\n      <div>\n        {isLoading ? <progress /> : <Table filteredData={filteredData} />}\n      </div>\n      {/*API FOR MAP*/}\n      <div className={styles.MapContainer}>\n      {showMap && <Map position={{lat: position.lat, lon: position.lon}} />}\n      </div>\n      {/*API FOR MAP*/}\n    </div>\n  );\n}\nexport default Results;\n","/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Favorites.js",[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/CurrencySelector.js",[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Table.js",[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Navbar.js",[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Map.js",[],[],"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/api/mockapi.js",[],[],{"ruleId":"72","severity":1,"message":"73","line":37,"column":6,"nodeType":"74","endLine":37,"endColumn":8,"suggestions":"75","suppressions":"76"},{"ruleId":"77","severity":1,"message":"78","line":17,"column":19,"nodeType":"79","messageId":"80","endLine":17,"endColumn":29},{"ruleId":"72","severity":1,"message":"81","line":55,"column":6,"nodeType":"74","endLine":55,"endColumn":37,"suggestions":"82","suppressions":"83"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'API_KEY'. Either include it or remove the dependency array.","ArrayExpression",["84"],["85"],"no-unused-vars","'setshowMap' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'API_KEY' and 'position'. Either include them or remove the dependency array.",["86"],["87"],{"desc":"88","fix":"89"},{"kind":"90","justification":"91"},{"desc":"92","fix":"93"},{"kind":"90","justification":"91"},"Update the dependencies array to be: [API_KEY]",{"range":"94","text":"95"},"directive","","Update the dependencies array to be: [API_KEY, position, searchedCountry, searchedYear]",{"range":"96","text":"97"},[1121,1123],"[API_KEY]",[2069,2100],"[API_KEY, position, searchedCountry, searchedYear]"]