{"ast":null,"code":"var _jsxFileName = \"/Users/Admin/Desktop/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Main.js\",\n  _s = $RefreshSig$();\nimport '../App.css';\n// App.js\nimport { useEffect, useState } from 'react';\nimport userApi from '../api/userApi';\nimport Table from '../components/Table';\nimport AddForm from '../components/Registration';\nimport TableUser from '../components/TableUser';\nimport TableUserFav from '../components/TableUserFav';\nimport AddFav from '../components/AddFav';\nimport Registration from '../components/Registration';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Main() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [usersFav, setUsersFav] = useState([]);\n  const [userId, setUserId] = useState(\"\");\n  const navigate = useNavigate();\n  const apiGet = async () => {\n    try {\n      const response = await userApi.get(`/users/`);\n      console.log(\"response.data\", response.data);\n      setUsers(response.data);\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  const apiGetId = async () => {\n    try {\n      const response = await userApi(`/users/${userId}/favorite`);\n      console.log(response.data);\n      setUsersFav(response.data);\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  const apiPost = async newUser => {\n    try {\n      const response = await userApi.post(`/users`, newUser);\n      console.log(response.data);\n      apiGet();\n    } catch (error) {\n      console.log(error.message);\n    }\n    ;\n  };\n  const apiPostFav = async newFav => {\n    try {\n      const response = await userApi.post(`/users/${userId}/favorite`, newFav);\n      console.log(response.data);\n      apiGet();\n    } catch (error) {\n      console.log(error.message);\n    }\n    ;\n  };\n  useEffect(() => {\n    apiGet();\n    const setNewUserInfo = JSON.parse(localStorage.getItem('user-info'));\n    if (setNewUserInfo !== null) {\n      // setLoggedIn(true);\n      navigate(\"/Main\");\n      const setNewUserId = setNewUserInfo.map(item => item.userId);\n      // console.log(setNewUserId);\n      setUserId(setNewUserId);\n    } else {\n      // setLoggedIn(false);\n      navigate(\"/\");\n    }\n  }, []);\n  const handlerLogout = e => {\n    e.preventDefault();\n    setUserId(\"\");\n    setUsers([]);\n    setUsersFav([]);\n    localStorage.removeItem('user-info');\n    navigate(\"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Holiday Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handlerLogout,\n      children: \"Log out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Registration, {\n      handlerAddUser: apiPost,\n      list: users\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: apiGet,\n      children: \"Load Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableUser, {\n      list: users\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: apiGetId,\n      children: \"Load Users fav\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableUserFav, {\n      list: usersFav\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddFav, {\n      handlerAddFav: apiPostFav\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(Main, \"smSQbcb41x05vgjnFL1nZPjVOcQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["useEffect","useState","userApi","Table","AddForm","TableUser","TableUserFav","AddFav","Registration","useNavigate","jsxDEV","_jsxDEV","Main","_s","users","setUsers","usersFav","setUsersFav","userId","setUserId","navigate","apiGet","response","get","console","log","data","error","message","apiGetId","apiPost","newUser","post","apiPostFav","newFav","setNewUserInfo","JSON","parse","localStorage","getItem","setNewUserId","map","item","handlerLogout","e","preventDefault","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","handlerAddUser","list","handlerAddFav","_c","$RefreshReg$"],"sources":["/Users/Admin/Desktop/sctp/6m-software-2-projectwork/apps/projectwork/src/components/Main.js"],"sourcesContent":["import '../App.css';\n// App.js\nimport { useEffect, useState } from 'react';\nimport userApi from '../api/userApi';\nimport Table from '../components/Table';\nimport AddForm from '../components/Registration';\nimport TableUser from '../components/TableUser';\nimport TableUserFav from '../components/TableUserFav';\nimport AddFav from '../components/AddFav';\nimport Registration from '../components/Registration';\nimport { useNavigate} from 'react-router-dom';\n\nfunction Main() {\n\n  const [users, setUsers] = useState([]);\n  const [usersFav, setUsersFav] = useState([]);\n  const [userId, setUserId] = useState(\"\");\n  const navigate = useNavigate();\n\n  \n  const apiGet = async () => {\n    try {\n      const response = await userApi.get(`/users/`);\n      console.log(\"response.data\", response.data);\n      setUsers(response.data);\n       } catch (error) {\n      console.log(error.message);\n    }\n  }\n\n\n  const apiGetId = async () => {\n    try {\n      const response = await userApi(`/users/${userId}/favorite`);\n        console.log(response.data);  \n        setUsersFav(response.data);  \n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n  \n  const apiPost = async (newUser) => {\n    try {\n      const response = await userApi.post(`/users`, newUser)\n      console.log(response.data);\n      apiGet();\n    } catch(error) {\n      console.log(error.message);\n    };\n  }\n\n  const apiPostFav = async (newFav) => {\n    try {\n      const response = await userApi.post(`/users/${userId}/favorite`, newFav)\n      console.log(response.data);\n      apiGet();\n    } catch(error) {\n      console.log(error.message);\n    };\n  }\n\n\n\n  useEffect(() => {\n    apiGet();\n    const setNewUserInfo = JSON.parse(localStorage.getItem('user-info'));\n   \n\n    if (setNewUserInfo !== null) {\n        // setLoggedIn(true);\n        navigate(\"/Main\")\n        const setNewUserId = setNewUserInfo.map(item => item.userId);\n        // console.log(setNewUserId);\n        setUserId(setNewUserId);\n      } else {\n        // setLoggedIn(false);\n        navigate(\"/\")\n      }\n\n  }, []);\n\n  const handlerLogout = (e) => {\n    e.preventDefault();\n    setUserId(\"\");\n    setUsers([]);\n    setUsersFav([]);\n    localStorage.removeItem('user-info');\n    navigate(\"/\");\n  }\n\n  return (\n    \n\n    <div className=\"App\">\n      <h1>Holiday Data</h1>\n      {/* <button onClick={apiGet}>Load Holiday Data</button> */}\n      {/* <Table list={holidayData} /> */}\n      <button onClick= {handlerLogout}>Log out</button>\n      <Registration handlerAddUser={apiPost} list={users} />\n      <button onClick= {apiGet}>Load Users</button>\n      <TableUser list={users} />\n      <br></br>\n      <button onClick= {apiGetId}>Load Users fav</button>\n      <TableUserFav list={usersFav} />\n\n      <AddFav handlerAddFav={apiPostFav} />\n\n    </div>\n  );\n}\nexport default Main;"],"mappings":";;AAAA,OAAO,YAAY;AACnB;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,OAAO,MAAM,gBAAgB;AACpC,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,OAAO,MAAM,4BAA4B;AAChD,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,YAAY,MAAM,4BAA4B;AACrD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,YAAY,MAAM,4BAA4B;AACrD,SAASC,WAAW,QAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAEd,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACe,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACiB,MAAM,EAAEC,SAAS,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAMmB,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAG9B,MAAMY,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMpB,OAAO,CAACqB,GAAG,CAAE,SAAQ,CAAC;MAC7CC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEH,QAAQ,CAACI,IAAI,CAAC;MAC3CX,QAAQ,CAACO,QAAQ,CAACI,IAAI,CAAC;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACjBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC;IAC5B;EACF,CAAC;EAGD,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACF,MAAMP,QAAQ,GAAG,MAAMpB,OAAO,CAAE,UAASgB,MAAO,WAAU,CAAC;MACzDM,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC;MAC1BT,WAAW,CAACK,QAAQ,CAACI,IAAI,CAAC;IAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC;IAC5B;EACF,CAAC;EAED,MAAME,OAAO,GAAG,MAAOC,OAAO,IAAK;IACjC,IAAI;MACF,MAAMT,QAAQ,GAAG,MAAMpB,OAAO,CAAC8B,IAAI,CAAE,QAAO,EAAED,OAAO,CAAC;MACtDP,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC;MAC1BL,MAAM,CAAC,CAAC;IACV,CAAC,CAAC,OAAMM,KAAK,EAAE;MACbH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC;IAC5B;IAAC;EACH,CAAC;EAED,MAAMK,UAAU,GAAG,MAAOC,MAAM,IAAK;IACnC,IAAI;MACF,MAAMZ,QAAQ,GAAG,MAAMpB,OAAO,CAAC8B,IAAI,CAAE,UAASd,MAAO,WAAU,EAAEgB,MAAM,CAAC;MACxEV,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC;MAC1BL,MAAM,CAAC,CAAC;IACV,CAAC,CAAC,OAAMM,KAAK,EAAE;MACbH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC;IAC5B;IAAC;EACH,CAAC;EAID5B,SAAS,CAAC,MAAM;IACdqB,MAAM,CAAC,CAAC;IACR,MAAMc,cAAc,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;IAGpE,IAAIJ,cAAc,KAAK,IAAI,EAAE;MACzB;MACAf,QAAQ,CAAC,OAAO,CAAC;MACjB,MAAMoB,YAAY,GAAGL,cAAc,CAACM,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACxB,MAAM,CAAC;MAC5D;MACAC,SAAS,CAACqB,YAAY,CAAC;IACzB,CAAC,MAAM;MACL;MACApB,QAAQ,CAAC,GAAG,CAAC;IACf;EAEJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMuB,aAAa,GAAIC,CAAC,IAAK;IAC3BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB1B,SAAS,CAAC,EAAE,CAAC;IACbJ,QAAQ,CAAC,EAAE,CAAC;IACZE,WAAW,CAAC,EAAE,CAAC;IACfqB,YAAY,CAACQ,UAAU,CAAC,WAAW,CAAC;IACpC1B,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC;EAED,oBAGET,OAAA;IAAKoC,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBrC,OAAA;MAAAqC,QAAA,EAAI;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAGrBzC,OAAA;MAAQ0C,OAAO,EAAGV,aAAc;MAAAK,QAAA,EAAC;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACjDzC,OAAA,CAACH,YAAY;MAAC8C,cAAc,EAAExB,OAAQ;MAACyB,IAAI,EAAEzC;IAAM;MAAAmC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACtDzC,OAAA;MAAQ0C,OAAO,EAAGhC,MAAO;MAAA2B,QAAA,EAAC;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC7CzC,OAAA,CAACN,SAAS;MAACkD,IAAI,EAAEzC;IAAM;MAAAmC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC1BzC,OAAA;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTzC,OAAA;MAAQ0C,OAAO,EAAGxB,QAAS;MAAAmB,QAAA,EAAC;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACnDzC,OAAA,CAACL,YAAY;MAACiD,IAAI,EAAEvC;IAAS;MAAAiC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEhCzC,OAAA,CAACJ,MAAM;MAACiD,aAAa,EAAEvB;IAAW;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAElC,CAAC;AAEV;AAACvC,EAAA,CAjGQD,IAAI;EAAA,QAKMH,WAAW;AAAA;AAAAgD,EAAA,GALrB7C,IAAI;AAkGb,eAAeA,IAAI;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}