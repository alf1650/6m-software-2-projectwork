{"ast":null,"code":"import _objectSpread from\"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useReducer}from\"react\";import userStateReducer,{initialState}from\"../reducer/userStateReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";var UserStateContext=/*#__PURE__*/createContext(initialState);//creating a context variable with initial state\nexport function UserStateProvider(_ref){var children=_ref.children;//returns a provider of global state: value, containing update functions\nvar _useReducer=useReducer(userStateReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var updateLogIn=function updateLogIn(){if(!state.isLoggedIn){dispatch({type:\"LOG_IN\"});}else{dispatch({type:\"LOG_OUT\"});}};var updateUsername=function updateUsername(username){dispatch({type:\"UPDATE_USERNAME\",payload:username});};var updateUserCurrency=function updateUserCurrency(currency){dispatch({type:\"UPDATE_USER_CURRENCY\",payload:currency});};var updateCountriesList=function updateCountriesList(countriesList){dispatch({type:\"UPDATE_COUNTRY_LIST\",payload:countriesList});};var updateCountry=function updateCountry(country){dispatch({type:\"UPDATE_COUNTRY\",payload:country});};var updateYear=function updateYear(year){dispatch({type:\"UPDATE_YEAR\",payload:year});};var addFav=function addFav(fav){var newFavArr=[].concat(_toConsumableArray(state.favs),[fav]);dispatch({type:\"ADD_FAV\",payload:newFavArr});};var updateFavNotes=function updateFavNotes(id,input){var favs=state.favs;var newFavArr=favs.map(function(fav){return fav.id===id?_objectSpread(_objectSpread({},fav),{},{notes:input}):fav;});dispatch({type:\"UPDATE_FAVNOTES\",payload:newFavArr});};var deleteFav=function deleteFav(id){var favs=state.favs;var newFavArr=favs.filter(function(fav){return fav.id!==id;});dispatch({type:\"DELETE_FAV\",payload:newFavArr});};var value={isLoggedIn:state.isLoggedIn,username:state.username,userCurrency:state.userCurrency,countriesList:state.countriesList,selectedCountry:state.selectedCountry,selectedYear:state.selectedYear,favs:state.favs,updateLogIn:updateLogIn,updateUsername:updateUsername,updateUserCurrency:updateUserCurrency,updateCountriesList:updateCountriesList,updateCountry:updateCountry,updateYear:updateYear,addFav:addFav,updateFavNotes:updateFavNotes,deleteFav:deleteFav};return/*#__PURE__*/_jsx(UserStateContext.Provider,{value:value,children:children});}var useUserState=function useUserState(){var context=useContext(UserStateContext);if(context===undefined){throw new Error(\"useUserState must be used within UserStateProvider\");}return context;};//custom hook to check & error if context is used outside it's provider, instead of allowing 'useContext' calls directly in components\nexport default useUserState;","map":{"version":3,"names":["createContext","useContext","useReducer","userStateReducer","initialState","jsx","_jsx","UserStateContext","UserStateProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","state","dispatch","updateLogIn","isLoggedIn","type","updateUsername","username","payload","updateUserCurrency","currency","updateCountriesList","countriesList","updateCountry","country","updateYear","year","addFav","fav","newFavArr","concat","_toConsumableArray","favs","updateFavNotes","id","input","map","_objectSpread","notes","deleteFav","filter","value","userCurrency","selectedCountry","selectedYear","Provider","useUserState","context","undefined","Error"],"sources":["/Users/alfredlim/sctp/6m-software-2-projectwork/apps/projectwork/src/store/userStateContext.js"],"sourcesContent":["import { createContext, useContext, useReducer } from \"react\";\nimport userStateReducer, { initialState } from \"../reducer/userStateReducer\";\n\nconst UserStateContext = createContext(initialState); //creating a context variable with initial state\n\nexport function UserStateProvider({ children }) {\n  //returns a provider of global state: value, containing update functions\n  const [state, dispatch] = useReducer(userStateReducer, initialState);\n\n  const updateLogIn = () => {\n    if (!state.isLoggedIn) {\n      dispatch({ type: \"LOG_IN\" });\n    } else {\n      dispatch({ type: \"LOG_OUT\" });\n    }\n  };\n\n  const updateUsername = (username) => {\n    dispatch({ type: \"UPDATE_USERNAME\", payload: username });\n  };\n\n  const updateUserCurrency = (currency) => {\n    dispatch({ type: \"UPDATE_USER_CURRENCY\", payload: currency });\n  };\n\n  const updateCountriesList = (countriesList) => {\n    dispatch({ type: \"UPDATE_COUNTRY_LIST\", payload: countriesList });\n  };\n\n  const updateCountry = (country) => {\n    dispatch({ type: \"UPDATE_COUNTRY\", payload: country });\n  };\n\n  const updateYear = (year) => {\n    dispatch({ type: \"UPDATE_YEAR\", payload: year });\n  };\n\n  const addFav = (fav) => {\n    const newFavArr = [...state.favs, fav];\n    dispatch({ type: \"ADD_FAV\", payload: newFavArr });\n  };\n\n  const updateFavNotes = (id, input) => {\n    const favs = state.favs;\n    const newFavArr = favs.map((fav) =>\n      fav.id === id ? { ...fav, notes: input } : fav\n    );\n    dispatch({ type: \"UPDATE_FAVNOTES\", payload: newFavArr });\n  };\n\n  const deleteFav = (id) => {\n    const favs = state.favs;\n    const newFavArr = favs.filter((fav) => fav.id !== id);\n    dispatch({ type: \"DELETE_FAV\", payload: newFavArr });\n  };\n\n  const value = {\n    isLoggedIn: state.isLoggedIn,\n    username: state.username,\n    userCurrency: state.userCurrency,\n    countriesList: state.countriesList,\n    selectedCountry: state.selectedCountry,\n    selectedYear: state.selectedYear,\n    favs: state.favs,\n    updateLogIn,\n    updateUsername,\n    updateUserCurrency,\n    updateCountriesList,\n    updateCountry,\n    updateYear,\n    addFav,\n    updateFavNotes,\n    deleteFav,\n  };\n\n  return (\n    <UserStateContext.Provider value={value}>\n      {children}\n    </UserStateContext.Provider>\n  );\n}\n\nconst useUserState = () => {\n  const context = useContext(UserStateContext);\n  if (context === undefined) {\n    throw new Error(\"useUserState must be used within UserStateProvider\");\n  }\n  return context;\n};\n//custom hook to check & error if context is used outside it's provider, instead of allowing 'useContext' calls directly in components\n\nexport default useUserState;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}